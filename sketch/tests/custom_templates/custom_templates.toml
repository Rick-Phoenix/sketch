# ANCHOR: all
# ANCHOR: config
root_dir = "../output/custom_templates"

global_templates_vars = { my_var = 15 }

# We can define templates directly in the config file
templates = { lit_template = "my_var: {{ my_var }}" }

# Or as files inside a directory
templates_dir = "../templates"
# ANCHOR_END: config

# ANCHOR: preset
# A group of templates that will be rendered together
templating_presets.test = [
  # Full path to the template file from templates_dir
  { template = "subdir/nested.j2", output = "new_dir/nested.yaml" },

  # Only using the global variables
  { template = "abc.j2", output = "with_global_var.yaml" },

  # Using a local override
  { template = "abc.j2", output = "with_override.yaml", context = { my_var = 20 } },

  # Defining a literal template
  { template = { name = "literal_inlined", content = "my_var: {{ my_var }}" }, output = "literal_inlined.yaml" },

  # Using a literal template defined in the config file
  { template = "lit_template", output = "literal_from_config.yaml" },
]
# ANCHOR_END: preset

# ANCHOR_END: all
