# yaml-language-server: $schema=../../schemas/development.json

# ANCHOR: all
typescript:
  package_presets:
    frontend:
      # The name of the package. If this is unset,
      # the name of the output directory will be used.
      name: "@myproject/frontend"

      # The `package.json` config for this package. Can be a preset id
      # or a literal configuration.
      package_json:
        devDependencies:
          tailwindcss: "^4.0.0"

      # Generates an oxlint config file in the root.
      # Can be a boolean, a preset id, or
      # a literal configuration.
      oxlint: false

      # Create a vitest setup.
      # Can be a boolean, a preset id, or
      # a literal configuration.
      vitest:
        # Where the config file should be generated, starting from
        # the root of the package.
        # It defaults to the value of `tests_dir`
        out_dir: null

        # The directory to use for tests
        tests_dir: tests

        # The directory containing the setup files for tests.
        # (starting from tests_dir)
        setup_dir: setup

      # ANCHOR_END: all

      # Using the default tsconfigs, which are:
      # - A `tsconfig.json` file only references other files
      # - A `tsconfig.src.json` file that has `noEmit` for apps and `emitDeclarationOnly` for libraries
      # - (Only for libraries) A separate `tsconfig.dev.json` file for typechecking tests, configs and scripts
      ts_config: null

      # ANCHOR: template_example
      # Inside the package preset configuration
      with_templates:
        - output: src/schemas/index.ts
          # This can be a template defined in the config file
          # or file path inside templates_dir
          template: schemas

templates:
  schemas: |
    import z from "zod";
    import { sharedSchemas } from "{{ schemas_package }}";

vars:
  schemas_package: "@myproject/schemas"
  # ANCHOR_END: template_example
