# yaml-language-server: $schema=../../schemas/latest.json

root_dir: ../../sketch/tests/output/ts_examples

# ANCHOR: all
typescript:
  root_package:
    name: workspace

    package_json:
      license: Apache-2.0
      devDependencies:
        husky: latest

    # The tsconfig files to generate at the root.
    # If left empty, defaults will be used.
    ts_config:
      - output: tsconfig.options.json
        config:
          compilerOptions:
            verbatimModuleSyntax: true
            strict: true

      - output: tsconfig.json
        config:
          files: []

    # Literal oxlint configuration to generate at the root
    # of the workspace.
    # Can be set to `true` to use defaults.
    oxlint: |
      {
        "plugins": ["unicorn", "typescript", "oxc"]
      }

    # Setup for moonrepo (can also just be set to `true` to use defaults)
    moonrepo:
      toolchain:
        root_tsconfig_name: tsconfig.options.json
    # ANCHOR_END: all

    # ANCHOR: template_example
    generate_templates:
      - output: docker/dev.dockerfile
        template:
          name: dev_dockerfile
          content: |
            FROM node:23-alpine

            COPY . .
            EXPOSE {{ docker_dev_port }}
            CMD ["npm", "run", "dev"]

global_templates_vars:
  docker_dev_port: 5173
  # ANCHOR_END: template_example
